# 语音识别参数详解
## 1. VAD (Voice Activity Detection) 参数详解

### 1.1 threshold（语音活动检测阈值）
该参数用于控制 VAD 系统对声音的敏感度，帮助区分语音和非语音。阈值的设置影响语音检测的精度和误判率。其值范围从 0.0 到 1.0，默认值为 0.5。
### VAD 配置说明

#### 1. 默认设置
- **阈值（threshold）**：0.5
- **最小静音时长（min_silence_ms）**：500 毫秒
- **语音填充时间（speech_pad_ms）**：300 毫秒

#### 2. 根据噪音级别的 VAD 设置

根据环境噪音水平的不同，VAD 设置也会有所不同。噪音级别分为以下几类，每类都提供了适合的 VAD 配置：
### 1. VAD阈值调整
#### 1.1 基本概念
- 定义：语音活动检测的判断标准
- 范围：0.0-1.0
- 默认值：0.5

- **安静环境**（SNR > 20dB）：
  - **阈值**：0.5
  - **最小静音时长**：500 毫秒
  - **语音填充时间**：300 毫秒
  - **描述**：适用于安静的录音室环境。

- **一般环境**（10dB < SNR ≤ 20dB）：
  - **阈值**：0.45
  - **最小静音时长**：600 毫秒
  - **语音填充时间**：350 毫秒
  - **描述**：适用于普通办公室环境。

- **嘈杂环境**（5dB < SNR ≤ 10dB）：
  - **阈值**：0.4
  - **最小静音时长**：700 毫秒
  - **语音填充时间**：400 毫秒
  - **描述**：适用于开放式办公环境。

- **高噪环境**（SNR ≤ 5dB）：
  - **阈值**：0.35
  - **最小静音时长**：800 毫秒
  - **语音填充时间**：450 毫秒
  - **描述**：适用于非常嘈杂的环境。

如果传入的噪音级别不在上述分类中，将返回默认设置。
> SNR（Signal-to-Noise Ratio，信噪比） 是一个衡量信号强度与噪音强度之间关系的指标。它通常用于描述音频、通信系统或任何传输信号的质量。在语音活动检测（VAD）中，SNR 用来判断音频信号中语音与背景噪音的相对强度。
>高 SNR 表示信号（语音）明显强于背景噪音，通常意味着更清晰的音频质量。
>低 SNR 表示噪音接近或超过信号强度，音频质量会下降，可能导致语音识别的困难。

#### 1.2 调整原则
- 从默认值开始逐步调整
- 每次调整幅度建议0.05
- 记录并分析调整效果
- 考虑环境噪音的动态变化

### 2. 最大长度设置

#### 2.1 场景分类
- 演讲场景
  - 建议长度：30秒
  - 重叠比例：10%
  - 特点：演讲通常有清晰的段落结构，适合较长的音频片段。

- 对话场景
  - 建议长度：15秒
  - 重叠比例：20%
  - 特点：对话需要更频繁的切换，因此较短的音频片段和较高的重叠比例有助于捕捉对话的流畅性。

- 新闻播报
  - 建议长度：40秒
  - 重叠比例：15%
  - 特点：新闻播报通常较长且连续，因此可以使用较长的音频片段来保证完整性。

- **采访/面试（Interview）**：
  - **最大长度**：20秒
  - **重叠比例**：25%
  - **原因**：采访通常包含问答互动，需要适度的音频片段长度与较高的重叠比例，以确保捕捉到对话的每个细节。

#### 2.2 根据设备性能调整推荐的长度设置：
- 内存限制
  - 4GB以下：建议减少30%长度（乘以 0.7）
  - 4-8GB：使用标准长度
  - 8GB以上：可适当增加长度

- CPU核心数
  - 如果设备的 CPU 核心数小于 4个（低性能设备），重叠比例将减少到原推荐值的 80%，以减少计算负担。

> 示例：对于内存小于 4GB，CPU 核心数小于 4 的设备，在进行 **Lecture（演讲）** 场景处理时，最大处理长度会缩短至 21 秒，重叠部分为 0.16。


### 3. Prompt定制

#### 3.1 领域分类
- 医疗领域
  - 关键词：专业术语、诊断描述
  - 语言风格：专业、准确

- 法律领域
  - 关键词：法律术语、正式表述
  - 语言风格：严谨、规范

- 教育领域
  - 关键词：教学术语、解释性语言
  - 语言风格：清晰、易懂

#### 3.2 定制原则
- 包含领域特定词汇
- 指定语言风格
- 说明特殊要求
- 提供上下文信息

## 二、工具选择指南

- VAD（Voice Activity Detection 语音活动检测）
  - 自动跳过无人说话的片段
  - 只保存有效发言内容
- Resemblyzer（说话人识别系统）
  - 分清是谁在说话
- 对齐工具
    - Aeneas（快速对齐工具）
      - 速度更快，精度适中,资源占用更少
  - Montreal Forced Aligner (MFA)
    - 准确对应每个字的时间
    - 帮助确保字幕和说话声完美同步,能精确到每个音节的时间点
- 智能分段系统
  - 如：需要分章节 / 分段落/ 标点符号



